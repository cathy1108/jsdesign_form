<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>捷士設計 | 預約裝修諮詢表</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #fdfbf7; color: #4a4a4a; overflow-x: hidden; }
        .animate-in { animation: fadeIn 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .home-bg {
            background-image: linear-gradient(rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4)), url('https://images.unsplash.com/photo-1494438639946-1ebd1d20bf85?auto=format&fit=crop&q=80&w=1200');
            background-size: cover;
            background-position: center;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
        }

        .btn-warm {
            background: linear-gradient(135deg, #d4a373 0%, #a98467 100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .btn-warm:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 24px -10px rgba(169, 132, 103, 0.6);
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #a98467;
            cursor: pointer;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e5e7eb; border-radius: 10px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        
        const LOGO_URL = "https://raw.githubusercontent.com/yushen-design/assets/main/js_logo.jpg";
        const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbysrdEDmwiASZTG2Lz7IbHBjhqC_BPU2AOuAy2x5Lboy9q_SGSWX4arb-2PxWF_q9c5Ag/exec";

        const STYLES = [
            { id: 'scandinavian', title: '北歐簡約', img: 'https://images.unsplash.com/photo-1598928506311-c55ded91a20c?auto=format&fit=crop&q=80&w=400' },
            { id: 'modern-luxury', title: '現代輕奢', img: 'https://images.unsplash.com/photo-1600210492486-724fe5c67fb0?auto=format&fit=crop&q=80&w=400' },
            { id: 'muji', title: '無印風', img: 'https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?auto=format&fit=crop&q=80&w=400' },
            { id: 'japandi', title: '侘寂禪風', img: 'https://images.unsplash.com/photo-1519710164239-da123dc03ef4?auto=format&fit=crop&q=80&w=400' },
            { id: 'industrial', title: '工業復古', img: 'https://images.unsplash.com/photo-1505691723518-36a5ac3be353?auto=format&fit=crop&q=80&w=400' },
            { id: 'other', title: '其他', img: 'https://images.unsplash.com/photo-1497366754035-f200968a6e72?auto=format&fit=crop&q=80&w=400' }
        ];

        const Icon = ({ name, className = "" }) => {
            const icons = {
                chevronRight: <polyline points="9 18 15 12 9 6"/>,
                chevronLeft: <polyline points="15 18 9 12 15 6"/>,
                instagram: <g><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></g>,
                heart: <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>,
                check: <polyline points="20 6 9 17 4 12"/>,
                loader: <g><line x1="12" y1="2" x2="12" y2="6"/><line x1="12" y1="18" x2="12" y2="22"/><line x1="4.93" y1="4.93" x2="7.76" y2="7.76"/><line x1="16.24" y1="16.24" x2="19.07" y2="19.07"/><line x1="2" y1="12" x2="6" y2="12"/><line x1="18" y1="12" x2="22" y2="12"/><line x1="4.93" y1="19.07" x2="7.76" y2="16.24"/><line x1="16.24" y1="7.76" x2="19.07" y2="4.93"/></g>
            };
            return (
                <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                    {icons[name]}
                </svg>
            );
        };

        const INITIAL_STATE = {
            name: '', phone: '', lineId: '', contactTime: '10:00-12:00',
            houseAge: '0', 
            spaceType: '住家', spaceTypeOther: '',
            serviceType: '室內設計與裝潢',
            location: '台北市', locationOther: '',
            caseName: '',
            isHandover: '是', handoverDate: '',
            size: 25, 
            budget: '100-200 萬',
            startDate: '', endDate: '',
            preferredStyles: [], preferredStylesOther: '',
            familyCount: '1',
            hasSpecialMember: [],
            isFutureFlex: '不需要',
            purpose: '長期自住',
            source: 'Instagram', sourceOther: '',
            note: ''
        };

        function App() {
            const [step, setStep] = useState(0);
            const [formData, setFormData] = useState(INITIAL_STATE);
            const [isSubmitting, setIsSubmitting] = useState(false);
            const [isSuccess, setIsSuccess] = useState(false);

            const nextStep = () => setStep(s => s + 1);
            const prevStep = () => setStep(s => s - 1);

            const isPhoneValid = formData.phone.length === 10;
            const canGoNextStep1 = formData.name.trim() !== '' && isPhoneValid;

            const handleToggle = (field, value) => {
                setFormData(prev => ({
                    ...prev,
                    [field]: prev[field].includes(value)
                        ? prev[field].filter(v => v !== value)
                        : [...prev[field], value]
                }));
            };

            const handleSubmit = async () => {
                setIsSubmitting(true);
                
                const finalPreferredStyles = [...formData.preferredStyles];
                if (formData.preferredStylesOther) finalPreferredStyles.push(`其他: ${formData.preferredStylesOther}`);

                const queryParams = new URLSearchParams({
                    ...formData,
                    preferredStyles: finalPreferredStyles.join(', '),
                    hasSpecialMember: formData.hasSpecialMember.join(', '),
                    timestamp: new Date().toLocaleString()
                });

                try {
                    await fetch(`${GOOGLE_SCRIPT_URL}?${queryParams.toString()}`, {
                        method: "POST",
                        mode: "no-cors"
                    });
                    setIsSuccess(true);
                } catch (e) {
                    console.error(e);
                    alert("提交失敗，請檢查網路連線。");
                } finally {
                    setIsSubmitting(false);
                }
            };

            return (
                <div className={`min-h-screen flex items-center justify-center p-4 transition-all duration-1000 ${step === 0 ? 'home-bg' : 'bg-stone-50'}`}>
                    
                    <div className={`w-full max-w-[480px] rounded-[3rem] overflow-hidden flex flex-col min-h-[760px] shadow-2xl transition-all duration-500 ${step === 0 ? 'glass-card' : 'bg-white border border-stone-100'}`}>
                        
                        <div className="flex-1 p-8 md:p-10 flex flex-col justify-center custom-scrollbar overflow-y-auto">
                            
                            {/* Step 0: 封面 */}
                            {step === 0 && (
                                <div className="text-center space-y-10 animate-in">
                                    <div className="space-y-6">
                                        <div className="w-28 h-28 rounded-full mx-auto p-1 bg-white shadow-md overflow-hidden border border-stone-100">
                                            <img src={LOGO_URL} alt="Logo" className="w-full h-full object-cover rounded-full" />
                                        </div>
                                        <div className="space-y-2">
                                            <h2 className="text-stone-400 font-medium tracking-[0.2em] text-xs uppercase">J.S Interior Design</h2>
                                            <h1 className="text-2xl md:text-3xl font-bold text-stone-800">捷士設計 <span className="font-light text-stone-300 mx-1">|</span> 預約諮詢</h1>
                                        </div>
                                    </div>
                                    <div className="space-y-6 text-stone-600 leading-relaxed font-light text-sm md:text-base">
                                        <p className="text-lg font-medium text-stone-700">讓我們走進您的理想生活。</p>
                                        <div className="pt-2">
                                            <a href="https://www.instagram.com/j.s.interior.design/" target="_blank" className="inline-flex items-center gap-2 px-5 py-2 rounded-full border border-stone-100 text-xs font-medium hover:bg-stone-50 transition-all">
                                                <Icon name="instagram" className="w-4 h-4"/> j.s.interior.design
                                            </a>
                                        </div>
                                    </div>
                                    <button onClick={nextStep} className="btn-warm w-full py-5 text-white rounded-2xl font-bold flex items-center justify-center gap-3">
                                        開啟諮詢表單 <Icon name="chevronRight" className="w-5 h-5"/>
                                    </button>
                                </div>
                            )}

                            {/* Step 1: 基本資訊 & 時段 */}
                            {step === 1 && (
                                <div className="animate-in space-y-6">
                                    <div className="space-y-2">
                                        <h2 className="text-2xl font-bold text-stone-800 tracking-tight">您好，該如何稱呼？</h2>
                                        <p className="text-stone-400 text-sm">請留下您的聯絡方式與方便聯絡的時間</p>
                                    </div>
                                    <div className="space-y-4">
                                        <div className="space-y-1.5">
                                            <label className="text-xs font-bold text-stone-400 uppercase tracking-wider ml-1">您的姓名</label>
                                            <input type="text" value={formData.name} onChange={e => setFormData({...formData, name: e.target.value})} placeholder="例如：林先生" className="w-full p-4 rounded-xl border border-stone-100 bg-stone-50 outline-none focus:bg-white focus:ring-2 focus:ring-stone-100 transition-all" />
                                        </div>
                                        <div className="space-y-1.5">
                                            <div className="flex justify-between items-center ml-1">
                                                <label className="text-xs font-bold text-stone-400 uppercase tracking-wider">聯絡電話</label>
                                                {formData.phone && !isPhoneValid && <span className="text-[10px] text-red-400 font-medium">需為 10 位數字</span>}
                                            </div>
                                            <input type="tel" maxLength="10" value={formData.phone} onChange={e => setFormData({...formData, phone: e.target.value.replace(/\D/g, '')})} placeholder="例如：0912345678" className={`w-full p-4 rounded-xl border bg-stone-50 outline-none transition-all ${formData.phone && !isPhoneValid ? 'border-red-100' : 'border-stone-100'}`} />
                                        </div>
                                        <div className="space-y-1.5">
                                            <label className="text-xs font-bold text-stone-400 uppercase tracking-wider ml-1">方便聯絡的時段</label>
                                            <div className="grid grid-cols-1 gap-2">
                                                {['10:00-12:00', '13:00-18:00', '18:00-21:00'].map(t => (
                                                    <button key={t} onClick={() => setFormData({...formData, contactTime: t})} className={`p-3 rounded-xl border-2 text-sm font-medium text-left px-4 transition-all ${formData.contactTime === t ? 'border-stone-800 bg-stone-50' : 'border-stone-50 bg-white text-stone-400'}`}>{t}</button>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Step 2-6: 其他中間頁面 (略，代碼邏輯同前，僅保留架構以確保完整性) */}
                            {step === 2 && (
                                <div className="animate-in space-y-6">
                                    <h2 className="text-2xl font-bold text-stone-800">房屋狀況與地點</h2>
                                    <div className="space-y-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar">
                                        <div className="grid grid-cols-2 gap-4">
                                            <div className="space-y-1.5">
                                                <label className="text-xs font-bold text-stone-400 uppercase tracking-wider">屋齡</label>
                                                <input type="number" value={formData.houseAge} onChange={e => setFormData({...formData, houseAge: e.target.value})} className="w-full p-3 rounded-xl border border-stone-100 bg-stone-50 outline-none" />
                                            </div>
                                            <div className="space-y-1.5">
                                                <label className="text-xs font-bold text-stone-400 uppercase tracking-wider">地點</label>
                                                <select value={formData.location} onChange={e => setFormData({...formData, location: e.target.value})} className="w-full p-3 rounded-xl border border-stone-100 bg-stone-50 outline-none text-sm">
                                                    {['台北市', '新北市', '桃園', '基隆', '其他'].map(l => <option key={l} value={l}>{l}</option>)}
                                                </select>
                                            </div>
                                        </div>
                                        {formData.location === '其他' && (
                                            <input type="text" placeholder="請填寫具體地點" value={formData.locationOther} onChange={e => setFormData({...formData, locationOther: e.target.value})} className="w-full p-3 rounded-xl border border-stone-200 text-sm outline-none" />
                                        )}
                                        <div className="space-y-1.5">
                                            <label className="text-xs font-bold text-stone-400 uppercase tracking-wider">建案名稱 / 詳細地址</label>
                                            <input type="text" value={formData.caseName} onChange={e => setFormData({...formData, caseName: e.target.value})} placeholder="例如：捷士大樓" className="w-full p-3 rounded-xl border border-stone-100 bg-stone-50 outline-none" />
                                        </div>
                                        <div className="space-y-1.5">
                                            <label className="text-xs font-bold text-stone-400 uppercase tracking-wider">交屋狀態</label>
                                            <div className="flex gap-2">
                                                {['是', '否'].map(h => (
                                                    <button key={h} onClick={() => setFormData({...formData, isHandover: h})} className={`flex-1 p-3 rounded-xl border-2 text-sm font-bold ${formData.isHandover === h ? 'border-stone-800 bg-stone-50' : 'border-stone-50 bg-white text-stone-400'}`}>已交屋: {h}</button>
                                                ))}
                                            </div>
                                        </div>
                                        {formData.isHandover === '否' && (
                                            <div className="space-y-1.5">
                                                <label className="text-xs font-bold text-stone-400 uppercase tracking-wider">預計交屋時間</label>
                                                <input type="date" value={formData.handoverDate} onChange={e => setFormData({...formData, handoverDate: e.target.value})} className="w-full p-3 rounded-xl border border-stone-100 bg-stone-50 outline-none" />
                                            </div>
                                        )}
                                    </div>
                                </div>
                            )}

                            {step === 3 && (
                                <div className="animate-in space-y-8">
                                    <h2 className="text-2xl font-bold text-stone-800">坪數與工程預算</h2>
                                    <div className="space-y-6">
                                        <div className="text-center">
                                            <div className="mb-2"><span className="text-5xl font-black text-stone-800">{formData.size}</span><span className="text-lg text-stone-300 ml-2">坪</span></div>
                                            <input type="range" min="5" max="100" value={formData.size} onChange={e => setFormData({...formData, size: e.target.value})} className="w-full h-1.5 bg-stone-100 rounded-lg appearance-none cursor-pointer" />
                                        </div>
                                        <div className="grid grid-cols-2 gap-2">
                                            {['100 萬以下', '100-150 萬', '150-200 萬', '200-300 萬', '300-500 萬', '500 萬以上'].map(b => (
                                                <button key={b} onClick={() => setFormData({...formData, budget: b})} className={`p-3 rounded-xl border-2 text-xs font-bold transition-all ${formData.budget === b ? 'border-stone-800 bg-stone-50' : 'border-stone-50 bg-white text-stone-400'}`}>{b}</button>
                                            ))}
                                        </div>
                                        <div className="grid grid-cols-2 gap-4 pt-4">
                                            <div className="space-y-1.5">
                                                <label className="text-xs font-bold text-stone-400 uppercase tracking-wider">可開工日期</label>
                                                <input type="date" value={formData.startDate} onChange={e => setFormData({...formData, startDate: e.target.value})} className="w-full p-3 rounded-xl border border-stone-100 bg-stone-50 outline-none text-xs" />
                                            </div>
                                            <div className="space-y-1.5">
                                                <label className="text-xs font-bold text-stone-400 uppercase tracking-wider">預計完工日</label>
                                                <input type="date" value={formData.endDate} onChange={e => setFormData({...formData, endDate: e.target.value})} className="w-full p-3 rounded-xl border border-stone-100 bg-stone-50 outline-none text-xs" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {step === 4 && (
                                <div className="animate-in space-y-6">
                                    <h2 className="text-2xl font-bold text-stone-800">預計居住成員</h2>
                                    <div className="space-y-5">
                                        <div className="space-y-1.5">
                                            <label className="text-xs font-bold text-stone-400 uppercase tracking-wider ml-1">居住人數 (自填數字)</label>
                                            <div className="relative">
                                                <input type="number" value={formData.familyCount} onChange={e => setFormData({...formData, familyCount: e.target.value})} className="w-full p-4 rounded-xl border border-stone-100 bg-stone-50 outline-none pr-12" />
                                                <span className="absolute right-4 top-1/2 -translate-y-1/2 text-stone-300">人</span>
                                            </div>
                                        </div>
                                        <div className="space-y-1.5">
                                            <label className="text-xs font-bold text-stone-400 uppercase tracking-wider ml-1">是否預留變動空間</label>
                                            <div className="grid grid-cols-2 gap-2">
                                                {['不需要', '需要'].map(f => (
                                                    <button key={f} onClick={() => setFormData({...formData, isFutureFlex: f})} className={`p-4 rounded-xl border-2 text-sm font-bold ${formData.isFutureFlex === f ? 'border-stone-800 bg-stone-50' : 'border-stone-50 bg-white text-stone-400'}`}>{f}</button>
                                                ))}
                                            </div>
                                        </div>
                                        <div className="space-y-1.5">
                                            <label className="text-xs font-bold text-stone-400 uppercase tracking-wider ml-1">成員組成 (複選)</label>
                                            <div className="grid grid-cols-3 gap-2">
                                                {['小朋友', '長輩', '寵物'].map(m => (
                                                    <button key={m} onClick={() => handleToggle('hasSpecialMember', m)} className={`p-3 rounded-xl border-2 text-xs font-bold ${formData.hasSpecialMember.includes(m) ? 'border-stone-800 bg-stone-50' : 'border-stone-50 bg-white text-stone-400'}`}>{m}</button>
                                                ))}
                                            </div>
                                        </div>
                                        <div className="space-y-1.5">
                                            <label className="text-xs font-bold text-stone-400 uppercase tracking-wider ml-1">裝潢目的</label>
                                            <div className="grid grid-cols-2 gap-2">
                                                {['長期自住', '短期自住', '出租', '出售'].map(p => (
                                                    <button key={p} onClick={() => setFormData({...formData, purpose: p})} className={`p-3 rounded-xl border-2 text-xs font-bold ${formData.purpose === p ? 'border-stone-800 bg-stone-50' : 'border-stone-50 bg-white text-stone-400'}`}>{p}</button>
                                                ))}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {step === 5 && (
                                <div className="animate-in space-y-6">
                                    <h2 className="text-2xl font-bold text-stone-800 text-center">心儀的風格方向</h2>
                                    <div className="grid grid-cols-2 gap-3 max-h-[480px] overflow-y-auto pr-2 custom-scrollbar">
                                        {STYLES.map(s => (
                                            <div key={s.id} onClick={() => handleToggle('preferredStyles', s.title)} className={`group relative rounded-xl overflow-hidden cursor-pointer border-4 transition-all ${formData.preferredStyles.includes(s.title) ? 'border-stone-800' : 'border-transparent'}`}>
                                                <img src={s.img} alt={s.title} className="w-full h-28 object-cover" />
                                                <div className="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-end p-2">
                                                    <span className="text-white text-[10px] font-bold tracking-wider">{s.title}</span>
                                                </div>
                                                {formData.preferredStyles.includes(s.title) && (
                                                    <div className="absolute top-1 right-1 bg-stone-800 text-white rounded-full p-1"><Icon name="check" className="w-3 h-3"/></div>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                    {formData.preferredStyles.includes('其他') && (
                                        <input type="text" placeholder="請描述您喜好的風格細節" value={formData.preferredStylesOther} onChange={e => setFormData({...formData, preferredStylesOther: e.target.value})} className="w-full p-4 rounded-xl border border-stone-200 text-sm outline-none animate-in" />
                                    )}
                                </div>
                            )}

                            {step === 6 && (
                                <div className="animate-in space-y-6">
                                    <h2 className="text-2xl font-bold text-stone-800">如何得知捷士設計？</h2>
                                    <div className="grid grid-cols-2 gap-2">
                                        {['Instagram', 'Facebook', 'Google (Map/AI)', '官方網站', '設計家', '親友推薦', '其他'].map(s => (
                                            <button key={s} onClick={() => setFormData({...formData, source: s})} className={`p-3 rounded-xl border-2 text-xs font-bold transition-all ${formData.source === s ? 'border-stone-800 bg-stone-50' : 'border-stone-50 bg-white text-stone-400'}`}>{s}</button>
                                        ))}
                                    </div>
                                    {formData.source === '其他' && (
                                        <input type="text" placeholder="請填寫具體管道" value={formData.sourceOther} onChange={e => setFormData({...formData, sourceOther: e.target.value})} className="w-full p-3 rounded-xl border border-stone-200 text-sm outline-none" />
                                    )}
                                    <div className="pt-2">
                                        <label className="text-xs font-bold text-stone-400 uppercase tracking-wider ml-1">有什麼話想對我們說的嗎？</label>
                                        <textarea value={formData.note} onChange={e => setFormData({...formData, note: e.target.value})} rows="4" placeholder="歡迎提供更多您的需求..." className="w-full mt-2 p-4 rounded-xl border border-stone-100 bg-stone-50 outline-none focus:bg-white transition-all resize-none text-sm"></textarea>
                                    </div>
                                </div>
                            )}

                            {/* Step 7: 送出頁面 (保留返回按鈕) */}
                            {step === 7 && (
                                <div className="text-center space-y-8 animate-in">
                                    <div className="w-20 h-20 bg-stone-50 rounded-full flex items-center justify-center mx-auto">
                                        <Icon name={isSuccess ? "check" : "heart"} className={`w-10 h-10 ${isSuccess ? "text-green-500" : "text-stone-200"}`} />
                                    </div>
                                    <div className="space-y-3">
                                        <h2 className="text-2xl font-bold text-stone-800">{isSuccess ? "送出成功！" : "最後確認"}</h2>
                                        <p className="text-stone-400 text-sm">{isSuccess ? "我們將在 1-3 個工作天內聯繫您。" : "確認以上資訊無誤即可送出"}</p>
                                    </div>
                                    {!isSuccess && (
                                        <div className="p-5 bg-stone-50 rounded-2xl text-left text-[11px] space-y-1.5 border border-stone-100 max-h-[200px] overflow-y-auto">
                                            <p className="flex justify-between"><span className="text-stone-400">業主：</span><span className="font-bold">{formData.name}</span></p>
                                            <p className="flex justify-between"><span className="text-stone-400">時段：</span><span className="font-bold">{formData.contactTime}</span></p>
                                            <p className="flex justify-between"><span className="text-stone-400">地點：</span><span className="font-bold">{formData.location !== '其他' ? formData.location : formData.locationOther}</span></p>
                                            <p className="flex justify-between"><span className="text-stone-400">建案：</span><span className="font-bold">{formData.caseName}</span></p>
                                            <p className="flex justify-between"><span className="text-stone-400">居住：</span><span className="font-bold">{formData.familyCount} 人</span></p>
                                            <p className="flex justify-between"><span className="text-stone-400">預算：</span><span className="font-bold">{formData.budget}</span></p>
                                        </div>
                                    )}
                                    {isSuccess ? (
                                        <button onClick={() => window.location.reload()} className="w-full py-5 bg-stone-900 text-white rounded-2xl font-bold">返回首頁</button>
                                    ) : (
                                        <div className="space-y-3">
                                            <button onClick={handleSubmit} disabled={isSubmitting} className="w-full py-5 bg-stone-900 text-white rounded-2xl font-bold flex items-center justify-center gap-3">
                                                {isSubmitting ? <Icon name="loader" className="w-5 h-5 animate-spin" /> : "確認並送出"}
                                            </button>
                                            <button onClick={prevStep} disabled={isSubmitting} className="w-full py-4 text-stone-400 font-medium text-sm flex items-center justify-center gap-2">
                                                <Icon name="chevronLeft" className="w-4 h-4"/> 資訊有誤？返回修改
                                            </button>
                                        </div>
                                    )}
                                </div>
                            )}
                        </div>

                        {/* 下方控制按鈕 (僅限中間步驟) */}
                        {step > 0 && step < 7 && (
                            <div className="px-8 pb-10 flex gap-4">
                                <button onClick={prevStep} className="p-5 rounded-2xl bg-stone-50 text-stone-300">
                                    <Icon name="chevronLeft" className="w-6 h-6"/>
                                </button>
                                <button onClick={nextStep} disabled={step === 1 && !canGoNextStep1} className="flex-1 py-5 bg-stone-900 text-white rounded-2xl font-bold disabled:bg-stone-50 disabled:text-stone-200 transition-all flex items-center justify-center gap-2">
                                    下一頁 <Icon name="chevronRight" className="w-5 h-5"/>
                                </button>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
